<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Quiz Carômetro</title>
  <style>
    :root {
      --bg: #0b1220;
      --panel: rgba(255,255,255,0.04);
      --panel2: rgba(255,255,255,0.06);
      --stroke: rgba(255,255,255,0.08);
      --text: #e8f1ff;
      --muted: rgba(232,241,255,0.72);
      --muted2: rgba(232,241,255,0.52);
      --brand: #6c6cff;
      --shadow: 0 18px 60px rgba(0,0,0,0.55);
      --r-xl: 22px;
      --r-lg: 18px;
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      background: radial-gradient(1200px 900px at 15% 20%, rgba(108,108,255,0.22), transparent 60%),
                  radial-gradient(900px 700px at 85% 10%, rgba(35,197,122,0.10), transparent 55%),
                  radial-gradient(900px 700px at 70% 85%, rgba(255,92,122,0.10), transparent 55%),
                  var(--bg);
      color: var(--text);
      display: grid;
      place-items: center;
      padding: 22px;
    }
    .wrap { width: min(1120px, 100%); }
    .topbar {
      background: rgba(255,255,255,0.04);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: var(--r-xl);
      padding: 14px 16px;
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 12px;
      align-items: center;
      box-shadow: var(--shadow);
    }
    .progressRow {
      display: grid;
      grid-template-columns: auto 1fr;
      gap: 12px;
      align-items: center;
      min-width: 0;
    }
    .qLabel { font-size: 13px; color: rgba(232,241,255,0.72); white-space: nowrap; }
    .bar { height: 8px; background: rgba(255,255,255,0.08); border-radius: 999px; overflow: hidden; }
    .bar > div {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, #6c6cff, rgba(108,108,255,0.55));
      border-radius: 999px;
      transition: width 260ms ease;
    }
    .scorePill {
      background: rgba(35,197,122,0.12);
      border: 1px solid rgba(35,197,122,0.22);
      color: rgba(189,255,226,0.92);
      padding: 8px 12px;
      border-radius: 999px;
      font-size: 13px;
      white-space: nowrap;
    }
    .main {
      margin-top: 16px;
      background: rgba(255,255,255,0.04);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: var(--r-xl);
      padding: 16px;
      box-shadow: var(--shadow);
      display: grid;
      grid-template-columns: 1.1fr 1fr;
      gap: 18px;
      align-items: stretch;
    }
    .imgBox {
      border-radius: var(--r-xl);
      overflow: hidden;
      background: rgba(0,0,0,0.28);
      border: 1px solid rgba(255,255,255,0.06);
      min-height: 360px;
      position: relative;
    }
    .imgBox img { width: 100%; height: 100%; object-fit: cover; display: block; }
    .imgTag {
      position: absolute; left: 12px; bottom: 12px;
      background: rgba(0,0,0,0.55);
      border: 1px solid rgba(255,255,255,0.14);
      padding: 8px 10px;
      border-radius: 12px;
      font-size: 12px;
      color: rgba(255,255,255,0.9);
      backdrop-filter: blur(10px);
      max-width: calc(100% - 24px);
      overflow: hidden; text-overflow: ellipsis; white-space: nowrap;
    }
    .right {
      display: grid;
      grid-template-rows: auto auto 1fr auto;
      gap: 14px;
      padding: 6px 6px 10px 6px;
      min-width: 0;
    }
    h1 { margin: 0; font-size: 26px; letter-spacing: -0.02em; line-height: 1.15; }
    .sub { margin: 0; color: rgba(232,241,255,0.52); font-size: 14px; }
    .controls { display: flex; gap: 10px; flex-wrap: wrap; align-items: center; }
    .select {
      display: inline-flex; gap: 10px; align-items: center;
      padding: 10px 12px;
      border-radius: 14px;
      background: rgba(255,255,255,0.04);
      border: 1px solid rgba(255,255,255,0.08);
    }
    .select label { font-size: 13px; color: rgba(232,241,255,0.72); white-space: nowrap; }
    select {
      appearance: none;
      background: rgba(0,0,0,0.18);
      border: 1px solid rgba(255,255,255,0.10);
      color: var(--text);
      border-radius: 12px;
      padding: 10px 36px 10px 12px;
      font-size: 13px;
      outline: none;
    }
    .grid { display: grid; gap: 12px; }
    .grid.cols2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    .grid.cols1 { grid-template-columns: 1fr; }
    .opt {
      border: 1px solid rgba(255,255,255,0.08);
      background: rgba(255,255,255,0.04);
      color: var(--text);
      padding: 14px 14px;
      border-radius: var(--r-lg);
      cursor: pointer;
      transition: border-color 120ms ease, background 120ms ease;
      text-align: left;
      font-weight: 650;
      letter-spacing: 0.01em;
      min-height: 52px;
      display: flex;
      align-items: center;
    }
    .opt:hover { border-color: rgba(108,108,255,0.45); background: rgba(108,108,255,0.10); }
    .opt.selected { border-color: rgba(108,108,255,0.85); background: rgba(108,108,255,0.16); box-shadow: 0 0 0 4px rgba(108,108,255,0.10) inset; }
    .opt.correct { border-color: rgba(35,197,122,0.75); background: rgba(35,197,122,0.14); }
    .opt.wrong { border-color: rgba(255,92,122,0.75); background: rgba(255,92,122,0.12); }
    .actions { display: grid; grid-template-columns: auto 1fr; gap: 12px; align-items: center; margin-top: 4px; }
    .btn {
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.04);
      color: var(--text);
      border-radius: var(--r-lg);
      padding: 14px 16px;
      cursor: pointer;
      font-weight: 700;
      letter-spacing: 0.01em;
      transition: background 120ms ease, border-color 120ms ease;
      min-height: 52px;
    }
    .btn:hover { border-color: rgba(255,255,255,0.18); background: rgba(255,255,255,0.06); }
    .btn.primary { background: linear-gradient(90deg, rgba(108,108,255,0.95), rgba(108,108,255,0.62)); border-color: rgba(108,108,255,0.85); }
    .btn.primary:disabled { opacity: 0.55; cursor: not-allowed; }
    .toast { margin-top: 10px; color: rgba(232,241,255,0.72); font-size: 13px; min-height: 18px; }
    .footer { margin-top: 14px; display: flex; justify-content: space-between; gap: 10px; color: rgba(232,241,255,0.42); font-size: 12px; padding: 0 4px; }

    @media (max-width: 920px) {
      .main { grid-template-columns: 1fr; }
      .imgBox { min-height: 320px; }
      h1 { font-size: 22px; }
      .actions { grid-template-columns: 1fr; }
    }
    @media (max-width: 520px) {
      body { padding: 14px; }
      .topbar { border-radius: 18px; }
      .main { border-radius: 18px; padding: 12px; }
      .imgBox { border-radius: 18px; min-height: 300px; }
      .grid.cols2 { grid-template-columns: 1fr; }
      .opt { min-height: 50px; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="topbar">
      <div class="progressRow">
        <div class="qLabel" id="qLabel">Questão 1/1</div>
        <div class="bar"><div id="barFill"></div></div>
      </div>
      <div class="scorePill" id="scorePill">0 acertos • 0 erros</div>
    </div>

    <div class="main">
      <div class="imgBox">
        <img id="photo" alt="Foto" />
        <div class="imgTag" id="imgTag">—</div>
      </div>

      <div class="right">
        <div>
          <h1>Quem é este militar?</h1>
          <p class="sub">Identifique corretamente o nome de guerra.</p>
        </div>

        <div class="controls">
          <div class="select">
            <label for="optCount">Opções</label>
            <select id="optCount">
              <option value="4">4</option>
              <option value="6" selected>6</option>
              <option value="8">8</option>
            </select>
          </div>
          <button class="btn" id="restartBtn" type="button">Reiniciar</button>
        </div>

        <div class="grid cols2" id="options"></div>

        <div>
          <div class="actions">
            <button class="btn" id="skipBtn" type="button">Pular</button>
            <button class="btn primary" id="confirmBtn" type="button" disabled>Confirmar Resposta</button>
          </div>
          <div class="toast" id="toast"></div>
        </div>
      </div>
    </div>

    <div class="footer">
      <div>Carômetro 2026</div>
      <div>Atalhos: 1-8 seleciona • Enter confirma • S pula</div>
    </div>
  </div>

<script>
const PEOPLE = [{"id": "p000", "name": "FN RENAN MOURA", "name_full": "ASP FN RENAN MOURA", "img": "img/p000.jpg"}, {"id": "p001", "name": "LUCAS CARLOS", "name_full": "ASP LUCAS CARLOS", "img": "img/p001.jpg"}, {"id": "p002", "name": "FN CUSTODIO", "name_full": "ASP FN CUSTODIO", "img": "img/p002.jpg"}, {"id": "p003", "name": "LUIS FELIPE", "name_full": "ASP LUIS FELIPE", "img": "img/p003.jpg"}, {"id": "p004", "name": "FN HEITOR TEIXEIRA", "name_full": "ASP FN HEITOR TEIXEIRA", "img": "img/p004.jpg"}, {"id": "p005", "name": "SILVA RODRIGUES", "name_full": "ASP SILVA RODRIGUES", "img": "img/p005.jpg"}, {"id": "p006", "name": "FN MARCUS REBELLO", "name_full": "ASP FN MARCUS REBELLO", "img": "img/p006.jpg"}, {"id": "p007", "name": "FN MENDES", "name_full": "ASP FN MENDES", "img": "img/p007.jpg"}, {"id": "p008", "name": "FN PATITUCCI", "name_full": "ASP FN PATITUCCI", "img": "img/p008.jpg"}, {"id": "p009", "name": "LUCAS", "name_full": "ASP LUCAS", "img": "img/p009.jpg"}, {"id": "p010", "name": "BANDEIRA", "name_full": "ASP BANDEIRA", "img": "img/p010.jpg"}, {"id": "p011", "name": "PEDRO LOPES", "name_full": "ASP PEDRO LOPES", "img": "img/p011.jpg"}, {"id": "p012", "name": "FN-401 BRAGA", "name_full": "ASP FN-401 BRAGA", "img": "img/p012.jpg"}, {"id": "p013", "name": "GUSTAVO NETTO", "name_full": "ASP GUSTAVO NETTO", "img": "img/p013.jpg"}, {"id": "p014", "name": "FN EROS", "name_full": "ASP FN EROS", "img": "img/p014.jpg"}, {"id": "p015", "name": "LUSTOSA", "name_full": "ASP LUSTOSA", "img": "img/p015.jpg"}, {"id": "p016", "name": "MITIDIERI", "name_full": "ASP MITIDIERI", "img": "img/p016.jpg"}, {"id": "p017", "name": "GABRIEL MOURA", "name_full": "ASP GABRIEL MOURA", "img": "img/p017.jpg"}, {"id": "p018", "name": "FN BERNARDO CUNHA", "name_full": "ASP FN BERNARDO CUNHA", "img": "img/p018.jpg"}, {"id": "p019", "name": "PALMIERI", "name_full": "ASP PALMIERI", "img": "img/p019.jpg"}, {"id": "p020", "name": "FN ANGÉLICA", "name_full": "ASP FN ANGÉLICA", "img": "img/p020.jpg"}, {"id": "p021", "name": "LETICIA AYRES", "name_full": "ASP LETICIA AYRES", "img": "img/p021.jpg"}, {"id": "p022", "name": "OLIVEIRA SANTOS", "name_full": "ASP OLIVEIRA SANTOS", "img": "img/p022.jpg"}, {"id": "p023", "name": "PENA", "name_full": "ASP PENA", "img": "img/p023.jpg"}, {"id": "p024", "name": "IM VITOR FREITAS", "name_full": "ASP IM VITOR FREITAS", "img": "img/p024.jpg"}, {"id": "p025", "name": "COUTINHO", "name_full": "ASP COUTINHO", "img": "img/p025.jpg"}, {"id": "p026", "name": "PEDRO MOREIRA", "name_full": "ASP PEDRO MOREIRA", "img": "img/p026.jpg"}, {"id": "p027", "name": "POSSIDÉRIO", "name_full": "ASP POSSIDÉRIO", "img": "img/p027.jpg"}, {"id": "p028", "name": "JOÃO OLIVEIRA", "name_full": "ASP JOÃO OLIVEIRA", "img": "img/p028.jpg"}, {"id": "p029", "name": "DANIEL FERNANDES", "name_full": "ASP DANIEL FERNANDES", "img": "img/p029.jpg"}, {"id": "p030", "name": "CAIO FREITAS", "name_full": "ASP CAIO FREITAS", "img": "img/p030.jpg"}, {"id": "p031", "name": "CARVALHO JÚNIOR", "name_full": "ASP CARVALHO JÚNIOR", "img": "img/p031.jpg"}, {"id": "p032", "name": "PERDIGÃO", "name_full": "ASP PERDIGÃO", "img": "img/p032.jpg"}, {"id": "p033", "name": "REBECA PENA", "name_full": "ASP REBECA PENA", "img": "img/p033.jpg"}, {"id": "p034", "name": "FN NETO NUNES", "name_full": "ASP FN NETO NUNES", "img": "img/p034.jpg"}, {"id": "p035", "name": "PEDRO", "name_full": "ASP PEDRO", "img": "img/p035.jpg"}, {"id": "p036", "name": "LUCAS MACHADO", "name_full": "ASP LUCAS MACHADO", "img": "img/p036.jpg"}, {"id": "p037", "name": "ESPÍRITO SANTO", "name_full": "ASP ESPÍRITO SANTO", "img": "img/p037.jpg"}, {"id": "p038", "name": "COSTA AGUIAR", "name_full": "ASP COSTA AGUIAR", "img": "img/p038.jpg"}, {"id": "p039", "name": "PEDRO SILVA", "name_full": "ASP PEDRO SILVA", "img": "img/p039.jpg"}, {"id": "p040", "name": "IM DA ROCHA", "name_full": "ASP IM DA ROCHA", "img": "img/p040.jpg"}, {"id": "p041", "name": "IM VINICIUS CAVALCANTE", "name_full": "ASP IM VINICIUS CAVALCANTE", "img": "img/p041.jpg"}, {"id": "p042", "name": "MARIA PERESTRELLO", "name_full": "ASP MARIA PERESTRELLO", "img": "img/p042.jpg"}, {"id": "p043", "name": "LETÍCIA MEDEIROS", "name_full": "ASP LETÍCIA MEDEIROS", "img": "img/p043.jpg"}, {"id": "p044", "name": "INGRID LANZILOTTA", "name_full": "ASP INGRID LANZILOTTA", "img": "img/p044.jpg"}, {"id": "p045", "name": "TRINDADE", "name_full": "ASP TRINDADE", "img": "img/p045.jpg"}, {"id": "p046", "name": "MÁRCIO JUNIOR", "name_full": "ASP MÁRCIO JUNIOR", "img": "img/p046.jpg"}, {"id": "p047", "name": "MÁRCIO JÚNIOR", "name_full": "ASP MÁRCIO JÚNIOR", "img": "img/p047.jpg"}, {"id": "p048", "name": "FN SGRANCIO", "name_full": "ASP FN SGRANCIO", "img": "img/p048.jpg"}, {"id": "p049", "name": "IGOR PRATES", "name_full": "ASP IGOR PRATES", "img": "img/p049.jpg"}, {"id": "p050", "name": "CARLOS CARIDADE", "name_full": "ASP CARLOS CARIDADE", "img": "img/p050.jpg"}, {"id": "p051", "name": "RAPOZO", "name_full": "ASP RAPOZO", "img": "img/p051.jpg"}, {"id": "p052", "name": "SANTOS CUNHA", "name_full": "ASP SANTOS CUNHA", "img": "img/p052.jpg"}, {"id": "p053", "name": "RIBEIRO COSTA", "name_full": "ASP RIBEIRO COSTA", "img": "img/p053.jpg"}, {"id": "p054", "name": "GUILHERME CAMPOS", "name_full": "ASP GUILHERME CAMPOS", "img": "img/p054.jpg"}, {"id": "p055", "name": "ARTHUR BANDEIRA", "name_full": "ASP ARTHUR BANDEIRA", "img": "img/p055.jpg"}, {"id": "p056", "name": "THIAGO SANT’ANNA", "name_full": "ASP THIAGO SANT’ANNA", "img": "img/p056.jpg"}, {"id": "p057", "name": "TEIXEIRA", "name_full": "ASP TEIXEIRA", "img": "img/p057.jpg"}, {"id": "p058", "name": "ANTIKADJIAN", "name_full": "ASP ANTIKADJIAN", "img": "img/p058.jpg"}, {"id": "p059", "name": "LETICIA AQUINO", "name_full": "ASP LETICIA AQUINO", "img": "img/p059.jpg"}, {"id": "p060", "name": "HENRIQUE SCARPA", "name_full": "ASP HENRIQUE SCARPA", "img": "img/p060.jpg"}, {"id": "p061", "name": "SILVA COSTA", "name_full": "ASP SILVA COSTA", "img": "img/p061.jpg"}, {"id": "p062", "name": "CITAVICIUS", "name_full": "ASP CITAVICIUS", "img": "img/p062.jpg"}, {"id": "p063", "name": "FN YAN TULLER", "name_full": "ASP FN YAN TULLER", "img": "img/p063.jpg"}, {"id": "p064", "name": "FN KAYO ACIOLY", "name_full": "ASP FN KAYO ACIOLY", "img": "img/p064.jpg"}, {"id": "p065", "name": "FELIPE AZEVEDO", "name_full": "ASP FELIPE AZEVEDO", "img": "img/p065.jpg"}, {"id": "p066", "name": "FN NEPOMUCENO", "name_full": "ASP FN NEPOMUCENO", "img": "img/p066.jpg"}, {"id": "p067", "name": "SOUZA BRAGA", "name_full": "ASP SOUZA BRAGA", "img": "img/p067.jpg"}, {"id": "p068", "name": "FN CÂMARA DEFESA PESSOAL E PRIMEIROS SOCORROS", "name_full": "ASP FN CÂMARA DEFESA PESSOAL E PRIMEIROS SOCORROS", "img": "img/p068.jpg"}, {"id": "p069", "name": "TORRES DE OLIVEIRA", "name_full": "ASP TORRES DE OLIVEIRA", "img": "img/p069.jpg"}, {"id": "p070", "name": "MATEUS SANTANA", "name_full": "ASP MATEUS SANTANA", "img": "img/p070.jpg"}, {"id": "p071", "name": "FN LOURES", "name_full": "ASP FN LOURES", "img": "img/p071.jpg"}, {"id": "p072", "name": "CESAR LEITE", "name_full": "ASP CESAR LEITE", "img": "img/p072.jpg"}, {"id": "p073", "name": "MOURA", "name_full": "ASP MOURA", "img": "img/p073.jpg"}];

function shuffle(arr) {
  for (let i = arr.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
  return arr;
}

function pickN(arr, n, excludeId) {
  const pool = arr.filter(p => p.id !== excludeId);
  shuffle(pool);
  return pool.slice(0, n);
}

const state = {
  order: [],
  idx: 0,
  correct: 0,
  wrong: 0,
  selectedName: null,
  locked: false,
  currentOptions: [],
  optCount: 6,
};

const el = {
  qLabel: document.getElementById('qLabel'),
  barFill: document.getElementById('barFill'),
  scorePill: document.getElementById('scorePill'),
  photo: document.getElementById('photo'),
  imgTag: document.getElementById('imgTag'),
  options: document.getElementById('options'),
  confirmBtn: document.getElementById('confirmBtn'),
  skipBtn: document.getElementById('skipBtn'),
  restartBtn: document.getElementById('restartBtn'),
  toast: document.getElementById('toast'),
  optCount: document.getElementById('optCount'),
};

function setToast(msg) { el.toast.textContent = msg || ''; }

function updateTop() {
  el.qLabel.textContent = `Questão ${state.idx + 1}/${state.order.length}`;
  const pct = (state.idx / Math.max(1, state.order.length)) * 100;
  el.barFill.style.width = `${pct}%`;
  el.scorePill.textContent = `${state.correct} acertos • ${state.wrong} erros`;
}

function buildOptions(target) {
  const total = state.optCount;
  const others = pickN(PEOPLE, Math.max(0, total - 1), target.id);
  const names = shuffle([target.name, ...others.map(o => o.name)]);
  state.currentOptions = names;
}

function renderOptions() {
  el.options.innerHTML = '';
  const cols2 = state.optCount >= 6;
  el.options.classList.toggle('cols2', cols2);
  el.options.classList.toggle('cols1', !cols2);

  state.currentOptions.forEach((name) => {
    const b = document.createElement('button');
    b.type = 'button';
    b.className = 'opt';
    b.textContent = name;
    b.dataset.name = name;
    b.addEventListener('click', () => selectOption(name));
    el.options.appendChild(b);
  });
}

function selectOption(name) {
  if (state.locked) return;
  state.selectedName = name;
  [...el.options.querySelectorAll('.opt')].forEach(b => b.classList.toggle('selected', b.dataset.name === name));
  el.confirmBtn.disabled = false;
  setToast('');
}

function loadQuestion() {
  state.locked = false;
  state.selectedName = null;
  el.confirmBtn.disabled = true;
  setToast('');

  const id = state.order[state.idx];
  const target = PEOPLE.find(p => p.id === id);

  el.photo.src = target.img;
  el.photo.onerror = () => { el.photo.src = target.img.replace(/^\.\//,''); };
  el.imgTag.textContent = target.name;

  buildOptions(target);
  renderOptions();
  updateTop();
}

function markAnswers(targetName) {
  const btns = [...el.options.querySelectorAll('.opt')];
  btns.forEach(b => {
    const n = b.dataset.name;
    if (n === targetName) b.classList.add('correct');
    if (state.selectedName && n === state.selectedName && n !== targetName) b.classList.add('wrong');
  });
}

function next() {
  state.idx++;
  if (state.idx >= state.order.length) {
    el.barFill.style.width = '100%';
    setToast(`Fim. ${state.correct} acertos e ${state.wrong} erros.`);
    state.idx = state.order.length - 1;
    state.locked = true;
    el.confirmBtn.disabled = true;
    return;
  }
  loadQuestion();
}

function confirm() {
  if (state.locked || !state.selectedName) return;
  state.locked = true;

  const id = state.order[state.idx];
  const target = PEOPLE.find(p => p.id === id);
  const ok = state.selectedName === target.name;

  if (ok) {
    state.correct++;
    setToast('Acertou.');
  } else {
    state.wrong++;
    setToast(`Errou. Certo: ${target.name}`);
  }

  markAnswers(target.name);
  updateTop();

  setTimeout(() => { next(); }, 650);
}

function skip() {
  if (state.locked) return;
  setToast('Pulou.');
  next();
}

function restart() {
  state.order = shuffle(PEOPLE.map(p => p.id));
  state.idx = 0;
  state.correct = 0;
  state.wrong = 0;
  state.selectedName = null;
  state.locked = false;
  updateTop();
  loadQuestion();
}

el.confirmBtn.addEventListener('click', confirm);
el.skipBtn.addEventListener('click', skip);
el.restartBtn.addEventListener('click', restart);

el.optCount.addEventListener('change', (e) => {
  const v = parseInt(e.target.value, 10);
  state.optCount = [4,6,8].includes(v) ? v : 6;
  loadQuestion();
});

document.addEventListener('keydown', (e) => {
  if (e.key === 'Enter') { confirm(); return; }
  if (e.key.toLowerCase() === 's') { skip(); return; }
  const n = parseInt(e.key, 10);
  if (!Number.isNaN(n) && n >= 1 && n <= 8) {
    const btns = [...el.options.querySelectorAll('.opt')];
    const btn = btns[n - 1];
    if (btn) selectOption(btn.dataset.name);
  }
});

restart();
</script>
</body>
</html>
